{"remainingRequest":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\babel-loader\\lib\\index.js!D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\src\\pages\\enrollments\\Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\src\\pages\\enrollments\\Update.vue","mtime":1596165013265},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596164988711},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1596164988228},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596164988711},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1596165010909}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFN0dWRlbnRzIGZyb20gJy4uLy4uL3NlcnZpY2VzL3N0dWRlbnRzJzsKaW1wb3J0IENvdXJzZXMgZnJvbSAnLi4vLi4vc2VydmljZXMvY291cnNlcyc7CmltcG9ydCBFbnJvbGxtZW50cyBmcm9tICcuLi8uLi9zZXJ2aWNlcy9lbnJvbGxtZW50cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW5yb2xsbWVudDogewogICAgICAgIHN0dWRlbnRfaWQ6ICcnLAogICAgICAgIGNvdXJzZV9pZDogJycKICAgICAgfSwKICAgICAgdGl0bGU6ICJFZGl0YXIgTWF0csOtY3VsYSIsCiAgICAgIGVycm9yU3R1ZGVudDogJycsCiAgICAgIGVycm9yQ291cnNlOiAnJywKICAgICAgc3R1ZGVudHM6IFtdLAogICAgICBjb3Vyc2VzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldExpc3RTdHVkZW50cygpOwogICAgdGhpcy5nZXRMaXN0Q291cnNlcygpOwogICAgdmFyIGVucm9sbG1lbnRfaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuZW5yb2xsbWVudF9pZDsKICAgIHRoaXMuZ2V0QnlJZGVudGlmaWVyKGVucm9sbG1lbnRfaWQpOwogIH0sCiAgbWV0aG9kczogewogICAgYWxlcnQ6IGZ1bmN0aW9uIGFsZXJ0KCkgewogICAgICB0aGlzLiRzd2FsKCJBdHVhbGl6YWRvISIsICJUcmFuc2HDp8OjbyBlZmV0dWFkYSBjb20gc3VjZXNzbyEiLCAic3VjY2VzcyIpOwogICAgfSwKICAgIGdvTGlzdEVucm9sbG1lbnRzOiBmdW5jdGlvbiBnb0xpc3RFbnJvbGxtZW50cygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9lbnJvbGxtZW50cycpOwogICAgfSwKICAgIGdldEJ5SWRlbnRpZmllcjogZnVuY3Rpb24gZ2V0QnlJZGVudGlmaWVyKGVucm9sbG1lbnRJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgRW5yb2xsbWVudHMuZ2V0QnlJZChlbnJvbGxtZW50SWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuZW5yb2xsbWVudC5lbnJvbGxtZW50X2lkID0gZW5yb2xsbWVudElkOwogICAgICAgIF90aGlzLmVucm9sbG1lbnQuc3R1ZGVudF9pZCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5zdHVkZW50X2lkOwogICAgICAgIF90aGlzLmVucm9sbG1lbnQuY291cnNlX2lkID0gcmVzcG9uc2UuZGF0YS5kYXRhLmNvdXJzZV9pZDsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlZDogZnVuY3Rpb24gdXBkYXRlZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBFbnJvbGxtZW50cy51cGRhdGUodGhpcy5lbnJvbGxtZW50KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgX3RoaXMyLmFsZXJ0KCk7CgogICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9lbnJvbGxtZW50cycpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICB2YXIgZXJyb3JzID0gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnM7CiAgICAgICAgX3RoaXMyLmVycm9yU3R1ZGVudCA9ICJzdHVkZW50X2lkIiBpbiBlcnJvcnMgPyBlcnJvcnMuc3R1ZGVudF9pZFswXSA6ICcnOwogICAgICAgIF90aGlzMi5lcnJvckNvdXJzZSA9ICJjb3Vyc2VfaWQiIGluIGVycm9ycyA/IGVycm9ycy5jb3Vyc2VfaWRbMF0gOiAnJzsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2xhc3M6IGZ1bmN0aW9uIGdldENsYXNzKGVsZW1lbnQpIHsKICAgICAgdmFyIGNsYXNzTmFtZSA9IGVsZW1lbnQgIT09ICcnID8gJ2hhcy1lcnJvcicgOiAnJzsKICAgICAgcmV0dXJuIGNsYXNzTmFtZTsKICAgIH0sCiAgICBnZXRMaXN0Q291cnNlczogZnVuY3Rpb24gZ2V0TGlzdENvdXJzZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgQ291cnNlcy5saXN0Q291cnNlcygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLmNvdXJzZXMgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldExpc3RTdHVkZW50czogZnVuY3Rpb24gZ2V0TGlzdFN0dWRlbnRzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIFN0dWRlbnRzLmxpc3RTdHVkZW50cygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM0LnN0dWRlbnRzID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA,OAAA,QAAA,MAAA,yBAAA;AACA,OAAA,OAAA,MAAA,wBAAA;AACA,OAAA,WAAA,MAAA,4BAAA;AAEA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,UAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA,kBALA;AAMA,MAAA,YAAA,EAAA,EANA;AAOA,MAAA,WAAA,EAAA,EAPA;AAQA,MAAA,QAAA,EAAA,EARA;AASA,MAAA,OAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,eAAA;AACA,SAAA,cAAA;AACA,QAAA,aAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,aAAA;AACA,SAAA,eAAA,CAAA,aAAA;AAEA,GAtBA;AAwBA,EAAA,OAAA,EAAA;AAEA,IAAA,KAFA,mBAEA;AACA,WAAA,KAAA,CAAA,aAAA,EAAA,iCAAA,EAAA,SAAA;AACA,KAJA;AAMA,IAAA,iBANA,+BAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA,KARA;AAUA,IAAA,eAVA,2BAUA,YAVA,EAUA;AAAA;;AACA,MAAA,WAAA,CAAA,OAAA,CAAA,YAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,aAAA,GAAA,YAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,UAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,UAAA;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,SAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,SAAA;AACA,OALA;AAMA,KAjBA;AAmBA,IAAA,OAnBA,qBAmBA;AAAA;;AACA,MAAA,WAAA,CAAA,MAAA,CAAA,KAAA,UAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,KAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,cAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,KAAA,EAAA;AACA,YAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,gBAAA,MAAA,GAAA,MAAA,CAAA,UAAA,CAAA,CAAA,CAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,WAAA,GAAA,eAAA,MAAA,GAAA,MAAA,CAAA,SAAA,CAAA,CAAA,CAAA,GAAA,EAAA;AACA,OAVA;AAWA,KA/BA;AAiCA,IAAA,QAjCA,oBAiCA,OAjCA,EAiCA;AACA,UAAA,SAAA,GAAA,OAAA,KAAA,EAAA,GAAA,WAAA,GAAA,EAAA;AACA,aAAA,SAAA;AACA,KApCA;AAsCA,IAAA,cAtCA,4BAsCA;AAAA;;AACA,MAAA,OAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA,KA1CA;AA4CA,IAAA,eA5CA,6BA4CA;AAAA;;AACA,MAAA,QAAA,CAAA,YAAA,GAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA;AAGA;AAhDA;AAxBA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n    \r\n        <div class=\"container\"> \r\n            <div class=\"hero-sm\">\r\n                <div class=\"hero-bod\">\r\n                    <h1 class=\"title-h\">{{ title }}</h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"columns\">\r\n                <div class=\"column col-4 col-mx-auto col-xs-12 col-sm-12 col-md-12\">\r\n                        \r\n                    <form class=\"form-horizontal\" @submit=\"updated\">                        \r\n                        <div class=\"form-group\" v-bind:class=\"getClass(errorStudent)\">\r\n                            <label class=\"form-label label-lg\" for=\"student_id\">Aluno</label>\r\n                            <select class=\"form-select\" v-bind:value=\"enrollment.student_id\" v-model=\"enrollment.student_id\">\r\n                                <option \r\n                                    v-bind:value=\"student.student_id\" \r\n                                    v-bind:key=\"student.student_id\" \r\n                                    v-for=\"student in students\"> {{ student.name }}</option>\r\n                            </select>\r\n                            <p v-if=\"errorStudent !== ''\" class=\"form-input-hint\">{{ errorStudent }}</p>                                                      \r\n                        </div>\r\n\r\n                        <div class=\"form-group\" v-bind:class=\"getClass(errorCourse)\">\r\n                            <label class=\"form-label label-lg\" for=\"course_id\">Curso</label>\r\n                          \r\n                            <select class=\"form-select\" v-bind:value=\"enrollment.course_id\" v-model=\"enrollment.course_id\">\r\n                                <option \r\n                                    v-bind:value=\"course.course_id\" \r\n                                    v-bind:key=\"course.course_id\" \r\n                                    v-for=\"course in courses\">{{ course.title }}</option>\r\n                            </select>\r\n                            <p v-if=\"errorCourse !== ''\" class=\"form-input-hint\">{{ errorCourse }}</p>                                                      \r\n                        </div>\r\n                        \r\n                        <button type=\"submit\" class=\"btn btn-edit\">Salvar</button>\r\n                        <button v-on:click=\"goListEnrollments\" type=\"button\" class=\"btn btn-detail\">Voltar</button>\r\n                    </form>                 \r\n\r\n                </div>                \r\n            </div>            \r\n            \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Students from '../../services/students'\r\nimport Courses from '../../services/courses'\r\nimport Enrollments from '../../services/enrollments'\r\n\r\nexport default {\r\n    \r\n    data(){\r\n        return {           \r\n            enrollment: {\r\n                student_id: '',\r\n                course_id: ''                \r\n            },\r\n            title: \"Editar Matrícula\",\r\n            errorStudent: '',\r\n            errorCourse: '',\r\n            students: [],\r\n            courses: [],\r\n        }\r\n    },\r\n\r\n    mounted(){\r\n        this.getListStudents()\r\n        this.getListCourses()      \r\n        var enrollment_id = this.$route.params.enrollment_id\r\n        this.getByIdentifier(enrollment_id)  \r\n        \r\n    },\r\n\r\n    methods:{\r\n\r\n        alert() {\r\n            this.$swal(\"Atualizado!\", \"Transação efetuada com sucesso!\", \"success\")\r\n        },\r\n\r\n        goListEnrollments(){\r\n            this.$router.push('/enrollments') \r\n        },\r\n\r\n        getByIdentifier(enrollmentId){\r\n            Enrollments.getById(enrollmentId)\r\n                .then(response =>{\r\n                    this.enrollment.enrollment_id = enrollmentId\r\n                    this.enrollment.student_id = response.data.data.student_id\r\n                    this.enrollment.course_id = response.data.data.course_id                                     \r\n                })\r\n        },\r\n\r\n        updated(){            \r\n            Enrollments.update(this.enrollment)\r\n                .then(response => {\r\n                    console.log(response);\r\n                    this.alert()        \r\n                    this.$router.push('/enrollments')          \r\n                })  \r\n                .catch((error) => {\r\n                    var errors = error.response.data.errors                                    \r\n                    this.errorStudent = ( \"student_id\" in errors) ? errors.student_id[0] : ''\r\n                    this.errorCourse = ( \"course_id\" in errors) ? errors.course_id[0] : ''                                       \r\n                })                            \r\n        },\r\n\r\n        getClass(element){\r\n            var className = (element !== '') ? 'has-error' : '';\r\n            return className;\r\n        },\r\n\r\n        getListCourses(){\r\n            Courses.listCourses().then(response => {\r\n                this.courses = response.data.data\r\n            })\r\n        },\r\n\r\n        getListStudents(){\r\n            Students.listStudents().then(response => {\r\n                this.students = response.data.data\r\n            })\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    form, input, label {\r\n        font-family: 'Poppins';\r\n    }\r\n    .btn{\r\n        margin: 5px;\r\n    }\r\n    .btn-detail {\r\n        color: #649cb1 !important;\r\n        border: .05rem solid #649cb1 !important;\r\n        opacity: 1 !important;\r\n        width: 200px;\r\n    }\r\n    .btn-detail:hover {\r\n        color: #fff !important;\r\n        background: #649cb1 !important;\r\n        border: .05rem solid #fff !important;\r\n        opacity: 1 !important;\r\n        width: 200px;\r\n    }\r\n    .btn-edit {\r\n        color: #41b883 !important;\r\n        border: .05rem solid #41b883 !important;\r\n        opacity: 1 !important;\r\n        width: 200px;\r\n    }\r\n    .btn-edit:hover {\r\n        color: #fff !important;\r\n        background: #41b883 !important;\r\n        border: .05rem solid #fff !important;\r\n        opacity: 1 !important;\r\n        width: 200px;\r\n    }\r\n\r\n    .title-h {\r\n        color: #41b883;\r\n        font-family: fantasy;\r\n    }\r\n\r\n</style>"],"sourceRoot":"src/pages/enrollments"}]}