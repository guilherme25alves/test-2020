{"remainingRequest":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\src\\pages\\courses\\Courses.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\src\\pages\\courses\\Courses.vue","mtime":1596165013259},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596164988711},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\babel-loader\\lib\\index.js","mtime":1596164988228},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1596164988711},{"path":"D:\\Gui\\Projeto\\BeeLabs\\test-2020\\vue-students-admin-front\\node_modules\\vue-loader\\lib\\index.js","mtime":1596165010909}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBDb3Vyc2VzIGZyb20gJy4uLy4uL3NlcnZpY2VzL2NvdXJzZXMnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICANCiAgICBkYXRhKCl7DQogICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBjb3Vyc2VzOiBbXSwNCiAgICAgICAgICAgIHRpdGxlOiAiQ3Vyc29zIiwNCiAgICAgICAgICAgIGZpbHRlclZhbHVlOiIiLA0KICAgICAgICAgICAgcGFnZVNpemU6NSwNCiAgICAgICAgICAgIGN1cnJlbnRQYWdlOjEsDQogICAgICAgICAgICBjdXJyZW50U29ydDonY291cnNlX2lkJywNCiAgICAgICAgICAgIGN1cnJlbnRTb3J0RGlyOidhc2MnDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgdGhpcy5saXN0KCkgICAgICAgIA0KICAgIH0sDQoNCiAgICBtZXRob2RzOnsNCg0KICAgICAgICBzb3J0OmZ1bmN0aW9uKHMpIHsNCiAgICAgICAgICAgIGlmKHMgPT09IHRoaXMuY3VycmVudFNvcnQpIHsNCiAgICAgICAgICAgIHRoaXMuY3VycmVudFNvcnREaXIgPSB0aGlzLmN1cnJlbnRTb3J0RGlyPT09J2FzYyc/J2Rlc2MnOidhc2MnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5jdXJyZW50U29ydCA9IHM7DQogICAgICAgIH0sDQoNCiAgICAgICAgc29ydGVkQ291cnNlcygpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvdXJzZXMNCiAgICAgICAgICAgIC5zb3J0KChhLGIpID0+IHsNCiAgICAgICAgICAgICAgICBsZXQgbW9kaWZpZXIgPSAxOw0KICAgICAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudFNvcnREaXIgPT09ICdkZXNjJykgbW9kaWZpZXIgPSAtMTsNCiAgICAgICAgICAgICAgICBpZihhW3RoaXMuY3VycmVudFNvcnRdIDwgYlt0aGlzLmN1cnJlbnRTb3J0XSkgcmV0dXJuIC0xICogbW9kaWZpZXI7DQogICAgICAgICAgICAgICAgaWYoYVt0aGlzLmN1cnJlbnRTb3J0XSA+IGJbdGhpcy5jdXJyZW50U29ydF0pIHJldHVybiAxICogbW9kaWZpZXI7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmZpbHRlcigocm93LCBpbmRleCkgPT4gew0KICAgICAgICAgICAgICAgIGxldCBzdGFydCA9ICh0aGlzLmN1cnJlbnRQYWdlLTEpKnRoaXMucGFnZVNpemU7DQogICAgICAgICAgICAgICAgbGV0IGVuZCA9IHRoaXMuY3VycmVudFBhZ2UqdGhpcy5wYWdlU2l6ZTsNCiAgICAgICAgICAgICAgICBpZihpbmRleCA+PSBzdGFydCAmJiBpbmRleCA8IGVuZCkgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCg0KICAgICAgICBuZXh0UGFnZTpmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmKCh0aGlzLmN1cnJlbnRQYWdlKnRoaXMucGFnZVNpemUpIDwgdGhpcy5jb3Vyc2VzLmxlbmd0aCkgdGhpcy5jdXJyZW50UGFnZSsrOw0KICAgICAgICB9LA0KICAgICAgICBwcmV2UGFnZTpmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGlmKHRoaXMuY3VycmVudFBhZ2UgPiAxKSB0aGlzLmN1cnJlbnRQYWdlLS07DQogICAgICAgIH0sDQoNCiAgICAgICAgbGlzdCgpew0KICAgICAgICAgICAgaWYodGhpcy5maWx0ZXJWYWx1ZSAhPT0gJycpew0KICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyVmFsdWUgPScnICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfSAgDQogICAgICAgICAgICBDb3Vyc2VzLmxpc3RDb3Vyc2VzKCkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgdGhpcy5jb3Vyc2VzID0gcmVzcG9uc2UuZGF0YS5kYXRhDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KDQogICAgICAgIHRvRWRpdChjb3Vyc2VfaWQpew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jb3Vyc2VzL3VwZGF0ZS8nICsgY291cnNlX2lkKQ0KICAgICAgICB9LA0KDQogICAgICAgIHRvRGV0YWlscyhjb3Vyc2VfaWQpew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9jb3Vyc2VzL2RldGFpbHMvJyArIGNvdXJzZV9pZCkNCiAgICAgICAgfSwNCg0KICAgICAgICBnZXRDb3Vyc2VzQnlUaXRsZSh0aXRsZSl7DQogICAgICAgICAgICBDb3Vyc2VzLmZpbmRCeVRpdGxlKHRpdGxlKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMuY291cnNlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaCgoKSA9PnsNCiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCJWYWxvcmVzIG7Do28gZW5jb250cmFkb3MhIFRlbnRlIG5vdmFtZW50ZSEiLCB7DQogICAgICAgICAgICAgICAgICAgIGljb246ICJlcnJvciIsDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5saXN0KCkNCiAgICAgICAgICAgIH0pICAgICAgICAgICAgDQogICAgICAgIH0sDQoNCiAgICAgICAgZGVsZXRlQ291cnNlKGNvdXJzZV9pZCl7DQogICAgICAgICAgICB0aGlzLiRzd2FsKHsNCiAgICAgICAgICAgICAgICB0aXRsZTogIlJlbW92ZXIgQ3Vyc28/IiwNCiAgICAgICAgICAgICAgICB0ZXh0OiAiRGVsZXRhciBjdXJzbyBpbXBsaWNhIGVtIHNldXMgZGFkb3MgZSByZW1vdmVyIHRvZGFzIGFzIG1hdHLDrWN1bGFzIGF0cmVsYWRhcyBhIGVsYSEiLA0KICAgICAgICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwNCiAgICAgICAgICAgICAgICBidXR0b25zOiB0cnVlLA0KICAgICAgICAgICAgICAgIGRhbmdlck1vZGU6IHRydWUsDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAudGhlbigoY29uZmlybURlbGV0ZSkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChjb25maXJtRGVsZXRlKSB7DQogICAgICAgICAgICAgICAgICAgIENvdXJzZXMucmVtb3ZlKGNvdXJzZV9pZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCJGZWl0byEgQ3Vyc28gcmVtb3ZpZG8hIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0KCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsKCJFcnJvIGFvIHJlbW92ZXIgQ3Vyc28hIFRlbnRlIG5vdmFtZW50ZSBwb3IgZ2VudGlsZXphISIsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogImVycm9yIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbCgiQcOnw6NvIGRlIHJlbW92ZXIgY2FuY2VsYWRhIix7DQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAiaW5mbyIsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgIH0NCiAgICB9DQoNCn0NCg=="},{"version":3,"sources":["Courses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"Courses.vue","sourceRoot":"src/pages/courses","sourcesContent":["<template>\r\n    <div>\r\n        \r\n        <div class=\"container\"> \r\n            <div class=\"hero-sm\">\r\n                <div class=\"hero-bod\">\r\n                    <h1 class=\"title-h\">{{ title }}</h1>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"columns\">\r\n                <div class=\"column col-10 col-mx-auto col-xs-12 col-sm-12 col-md-12\">\r\n                        \r\n                    <div id=\"searchDiv\" class=\"col-4 col-xs-12 col-sm-12 col-md-12\">\r\n                        <div class=\"input-group\">\r\n                            <form @submit=\"getCoursesByTitle(filterValue)\">                                \r\n                                <input \r\n                                    required\r\n                                    id=\"searchValue\" \r\n                                    v-model=\"filterValue\"\r\n                                    type=\"text\" \r\n                                    class=\"form-input\" \r\n                                    placeholder=\"Pesquise por título...\">                            \r\n                                <button                                     \r\n                                    id=\"searchBtn\" type=\"submit\" title=\"Pesquisar\"\r\n                                    class=\"btn btn-detail input-group-btn\">\r\n                                    <i class='fas fa-search'></i>\r\n                                </button>\r\n                                <button \r\n                                    id=\"clearBtn\" type=\"button\" v-on:click=\"list\"\r\n                                    class=\"btn btn-edit input-group-btn\" title=\"Limpar busca\">\r\n                                    <i class='fas fa-times'></i>\r\n                                </button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <th @click=\"sort('course_id')\">#ID <i class=\"fas fa-sort\"></i></th>\r\n                                <th @click=\"sort('title')\">Título <i class=\"fas fa-sort\"></i></th>\r\n                                <th @click=\"sort('description')\">Descrição <i class=\"fas fa-sort\"></i></th>                                \r\n                                <th>Ações</th>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"course of sortedCourses()\" :key=\"course.course_id\" > \r\n                                    <td>{{ course.course_id }}</td>\r\n                                    <td>{{ course.title }}</td>\r\n                                    <td>{{ course.description }}</td>                                    \r\n                                    <td>\r\n                                        <button v-on:click=\"toDetails(course.course_id)\" class=\"btn-detail btn\">Detalhes</button>\r\n                                        <button v-on:click=\"toEdit(course.course_id)\" class=\"btn-edit btn\">Editar</button>\r\n                                        <button v-on:click=\"deleteCourse(course.course_id)\" class=\"btn-delete btn\">Deletar</button>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                        <section>                            \r\n                            <div class=\"columns\">\r\n                                <div class=\"column col-2\">\r\n                                    <router-link to=\"/courses/store\" class=\"btn btn-edit align-btn\">Novo Curso</router-link>\r\n                                </div>\r\n                                <div class=\"column col-8 col-mr-auto\">\r\n                                    <button class=\"btn-paginating btn-detail\" @click=\"prevPage\">\r\n                                        <i class=\"fas fa-arrow-left\"></i> Previous</button> \r\n                                    <button class=\"btn-paginating btn-detail\" @click=\"nextPage\">\r\n                                        Next <i class=\"fas fa-arrow-right\"></i></button>\r\n                                </div>                                \r\n                            </div>\r\n                        </section>\r\n\r\n\r\n\r\n                </div>                \r\n            </div>            \r\n            \r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Courses from '../../services/courses'\r\n\r\nexport default {\r\n    \r\n    data(){\r\n        return {\r\n            courses: [],\r\n            title: \"Cursos\",\r\n            filterValue:\"\",\r\n            pageSize:5,\r\n            currentPage:1,\r\n            currentSort:'course_id',\r\n            currentSortDir:'asc'\r\n        }\r\n    },\r\n    mounted(){\r\n        this.list()        \r\n    },\r\n\r\n    methods:{\r\n\r\n        sort:function(s) {\r\n            if(s === this.currentSort) {\r\n            this.currentSortDir = this.currentSortDir==='asc'?'desc':'asc';\r\n            }\r\n            this.currentSort = s;\r\n        },\r\n\r\n        sortedCourses() {\r\n            return this.courses\r\n            .sort((a,b) => {\r\n                let modifier = 1;\r\n                if(this.currentSortDir === 'desc') modifier = -1;\r\n                if(a[this.currentSort] < b[this.currentSort]) return -1 * modifier;\r\n                if(a[this.currentSort] > b[this.currentSort]) return 1 * modifier;\r\n                return 0;\r\n            })\r\n            .filter((row, index) => {\r\n                let start = (this.currentPage-1)*this.pageSize;\r\n                let end = this.currentPage*this.pageSize;\r\n                if(index >= start && index < end) return true;\r\n            });\r\n        },\r\n\r\n        nextPage:function() {\r\n            if((this.currentPage*this.pageSize) < this.courses.length) this.currentPage++;\r\n        },\r\n        prevPage:function() {\r\n            if(this.currentPage > 1) this.currentPage--;\r\n        },\r\n\r\n        list(){\r\n            if(this.filterValue !== ''){\r\n                this.filterValue =''                \r\n            }  \r\n            Courses.listCourses().then(response => {\r\n                this.courses = response.data.data\r\n            })\r\n        },\r\n\r\n        toEdit(course_id){\r\n            this.$router.push('/courses/update/' + course_id)\r\n        },\r\n\r\n        toDetails(course_id){\r\n            this.$router.push('/courses/details/' + course_id)\r\n        },\r\n\r\n        getCoursesByTitle(title){\r\n            Courses.findByTitle(title)\r\n            .then(response => {\r\n                this.courses = response.data.data\r\n            })\r\n            .catch(() =>{\r\n                this.$swal(\"Valores não encontrados! Tente novamente!\", {\r\n                    icon: \"error\",\r\n                });\r\n                this.list()\r\n            })            \r\n        },\r\n\r\n        deleteCourse(course_id){\r\n            this.$swal({\r\n                title: \"Remover Curso?\",\r\n                text: \"Deletar curso implica em seus dados e remover todas as matrículas atreladas a ela!\",\r\n                icon: \"warning\",\r\n                buttons: true,\r\n                dangerMode: true,\r\n                })\r\n                .then((confirmDelete) => {\r\n                if (confirmDelete) {\r\n                    Courses.remove(course_id)\r\n                        .then(() => {\r\n                            this.$swal(\"Feito! Curso removido!\", {\r\n                                icon: \"success\",\r\n                            });\r\n                            this.list()                            \r\n                        })\r\n                        .catch(() => {\r\n                            this.$swal(\"Erro ao remover Curso! Tente novamente por gentileza!\", {\r\n                                icon: \"error\",\r\n                            });                            \r\n                        })                    \r\n                } else {\r\n                    this.$swal(\"Ação de remover cancelada\",{\r\n                        icon: \"info\",\r\n                    });\r\n                }\r\n            });\r\n                        \r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    form{\r\n        display:contents\r\n    }\r\n    #searchDiv{\r\n        float:right; \r\n        padding-bottom:9px\r\n    }\r\n    #searchBtn, #clearBtn{\r\n        margin: 0 !important;\r\n    }\r\n    .btn{\r\n        margin: 5px;\r\n    }\r\n    .btn-detail {\r\n        color: #649cb1 !important;\r\n        border: .05rem solid #649cb1 !important;\r\n        opacity: 0.7 !important;\r\n    }\r\n    .btn-detail:hover {\r\n        color: #fff !important;\r\n        background: #649cb1 !important;\r\n        border: .05rem solid #fff !important;\r\n        opacity: 1 !important;\r\n    }\r\n    .btn-edit {\r\n        color: #41b883 !important;\r\n        border: .05rem solid #41b883 !important;\r\n        opacity: 0.7 !important;\r\n    }\r\n    .btn-edit:hover {\r\n        color: #fff !important;\r\n        background: #41b883 !important;\r\n        border: .05rem solid #fff !important;\r\n        opacity: 1 !important;\r\n    }\r\n    .btn-delete {\r\n        color: #c62121 !important;\r\n        border: .05rem solid #c62121 !important;\r\n        opacity: 0.7 !important;\r\n    }\r\n    .btn-delete:hover {\r\n        color: #fff !important;\r\n        background: #c62121 !important;\r\n        border: .05rem solid #fff !important;\r\n        opacity: 1 !important;\r\n    }\r\n    .align-btn{\r\n        width: 100%;\r\n        max-width: 120px;\r\n        float: left;\r\n    }\r\n\r\n    table{\r\n        font-family: 'Poppins';\r\n        margin: 25px auto;\r\n        border-collapse: collapse;\r\n        border: 1px solid #eee;\r\n        border-bottom: 2px solid #649cb1;\r\n        box-shadow: 0px 0px 20px rgba(0,0,0,0.10),\r\n            0px 10px 20px rgba(0,0,0,0.05),\r\n            0px 20px 20px rgba(0,0,0,0.05),\r\n            0px 30px 20px rgba(0,0,0,0.05);        \r\n    }\r\n\r\n    tr:hover {\r\n        background: #f4f4f4;\r\n    }\r\n\r\n    td {\r\n        color: #555;\r\n        font-size: 13px;\r\n    }\r\n\r\n    th, td {\r\n        color: #999;\r\n        border: 1px solid #eee;\r\n        padding: 8px 25px !important;\r\n        border-collapse: collapse;\r\n        text-align: center;\r\n    }\r\n    th {\r\n        background: #649cb1;\r\n        color: #fff;\r\n        text-transform: uppercase;\r\n        font-size: 15px;        \r\n    }\r\n    .title-h {\r\n        color: #41b883;\r\n        font-family: fantasy;\r\n    }\r\n    \r\n    .btn-paginating{\r\n        padding: 7px;\r\n        margin: 6px;\r\n        width: 120px;\r\n        text-align: center;\r\n        background: #FFF;\r\n        cursor: pointer;\r\n    }\r\n\r\n    @media(max-width: 880px){\r\n        .column{\r\n            overflow-x: auto !important;\r\n        }\r\n        table{\r\n            margin-bottom: 0px !important;\r\n        }\r\n        .align-btn{\r\n            margin: 20px auto !important;\r\n            width: 250px;\r\n            float: none;\r\n        }   \r\n    }\r\n</style>"]}]}